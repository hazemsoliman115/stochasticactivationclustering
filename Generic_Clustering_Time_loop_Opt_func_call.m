clearvars
yalmip('clear')

rng('default');
rng(1);

No_APs = 4;
No_Areas = 16;
No_time_slots = 10;




P = zeros(No_Areas,No_APs);

for i=1:No_Areas
    for j =1:No_APs
        if (1<=i)&&(i<=4)
            if j==1
                P(i,j) = 1;
            elseif (j==2) || (j==3)
                P(i,j) = 0.5;
            else
                P(i,j) = 0.25;
            end
        elseif (5<=i)&&(i<=8)
            if j==2
                P(i,j) = 1;
            elseif (j==1) || (j==3)
                P(i,j) = 0.5;
            else
                P(i,j) = 0.25;
            end
        elseif (9<=i)&&(i<=12)
            if j==3
                P(i,j) = 1;
            elseif (j==1) || (j==4)
                P(i,j) = 0.5;
            else
                P(i,j) = 0.25;
            end
        elseif (13<=i)&&(i<=16)
            if j==4
                P(i,j) = 1;
            elseif (j==2) || (j==3)
                P(i,j) = 0.5;
            else
                P(i,j) = 0.25;
            end
        end
    end
end
sigma_sq = 0.1;




%A_e = 2*rand(No_time_slots,No_Areas);
A_e =[    0.9935    0.5396    0.1428    0.8125    0.3258    0.6704    0.5121 0.0509    0.0433    0.2358    0.8146    0.0644    0.2821    0.6022 0.1926    0.3210
    0.8345    0.8953    0.0941    0.2838    0.8898    0.4305    0.6175 0.2351    0.4864    0.9408    0.0541    0.8970    0.8838    0.9636 0.7529    0.1230
    0.6996    0.4466    0.8702    0.5278    0.7517    0.7678    0.4324 0.0633    0.2394    0.6842    0.1305    0.2034    0.5677    0.3457 0.0073    0.7213
    0.9183    0.8770    0.2369    0.3394    0.7626    0.5360    0.8477 0.4217    0.9525    0.0649    0.8424    0.8262    0.1151    0.5956 0.3283    0.4403
    0.0397    0.2536    0.3860    0.5547    0.4695    0.0399    0.4541 0.8638    0.9439    0.8704    0.6183    0.8818    0.2270    0.5990 0.9176    0.1267
    0.0703    0.2738    0.5715    0.9744    0.2108    0.1348    0.0154 0.0816    0.6139    0.7014    0.5313    0.4868    0.5960    0.6157 0.5884    0.5898
    0.4740    0.3284    0.5258    0.3117    0.0415    0.1934    0.8731 0.4731    0.9735    0.6049    0.2483    0.5985    0.2394    0.0592 0.8552    0.0361
    0.3492    0.5476    0.0760    0.6688    0.3218    0.3357    0.6562 0.1255    0.3449    0.7324    0.2951    0.5273    0.1314    0.7503 0.6047    0.2002
    0.9373    0.2201    0.8741    0.3260    0.0371    0.0523    0.8230 0.7729    0.8979    0.2534    0.8727    0.6248    0.1618    0.9482 0.8226    0.7883
    0.4896    0.6714    0.9511    0.7745    0.6939    0.6051    0.9518 0.8414    0.4346    0.6005    0.4217    0.8550    0.8449    0.5347 0.8795    0.0121];




gam = 0.2*ones(1,No_Areas);

[x_new, u_new, q_new] = Generic_Clustering_Time_loop_Opt_func(No_time_slots, No_APs, No_Areas,  P, sigma_sq, A_e, gam)